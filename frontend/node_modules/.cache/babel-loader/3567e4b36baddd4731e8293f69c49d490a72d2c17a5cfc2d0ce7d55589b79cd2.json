{"ast":null,"code":"import _objectSpread from\"C:/SHRADDHA KHAPRA/Zerodha Clone/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import{toast,ToastContainer}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const{register,handleSubmit,formState:{errors}}=useForm();const onSubmit=async data=>{try{const res=await axios.post(\"http://localhost:8080/login\",data);console.log(res.data);const{success,message,jwtToken}=res.data;localStorage.setItem(\"token\",jwtToken);if(success){toast.success(message);}else{toast.error(message);}setTimeout(()=>{navigate(\"/\");},1000);}catch(err){var _err$response,_err$response2,_err$response3;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){toast.error(\"Invalid email or password!\");}else if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===409){toast.error(\"User already exists, please signup!\");}else{toast.error(\"Something went wrong. Try again later!\");}console.error(\"Signup Failed:\",((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.data)||err.message);}};return/*#__PURE__*/_jsxs(\"div\",{class:\"container  p-4 d-flex align-items-center h-50 w-50 flex-column \",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"black\"},children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{class:\"border border-primary w-50 p-3 rounded-3 text-white\",style:{backgroundImage:\"linear-gradient(135deg, #01187c, #0a3d91, #4a90e2)\"},onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput2\",class:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",class:\"form-control\",id:\"exampleFormControlInput2\",placeholder:\"email@example.com\"},register(\"email\",{required:\"Email is required\"}))),errors.email&&/*#__PURE__*/_jsx(\"p\",{class:\"text-danger\",children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput3\",class:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",class:\"form-control\",id:\"exampleFormControlInput3\",placeholder:\"Enter password...\"},register(\"password\",{required:\"Password is required\"}))),errors.password&&/*#__PURE__*/_jsx(\"p\",{class:\"text-danger\",children:errors.password.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Login\"})})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Login;","map":{"version":3,"names":["React","useForm","axios","toast","ToastContainer","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","register","handleSubmit","formState","errors","onSubmit","data","res","post","console","log","success","message","jwtToken","localStorage","setItem","error","setTimeout","err","_err$response","_err$response2","_err$response3","response","status","class","children","style","color","backgroundImage","htmlFor","_objectSpread","type","id","placeholder","required","email","password","className"],"sources":["C:/SHRADDHA KHAPRA/Zerodha Clone/frontend/src/landing_page/singup/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      const res = await axios.post(\"http://localhost:8080/login\", data);\r\n      console.log(res.data);\r\n      const { success, message, jwtToken } = res.data;\r\n\r\n      localStorage.setItem(\"token\", jwtToken);\r\n\r\n      if (success) {\r\n        toast.success(message);\r\n      } else {\r\n        toast.error(message);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 1000);\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        toast.error(\"Invalid email or password!\");\r\n      } else if (err.response?.status === 409) {\r\n        toast.error(\"User already exists, please signup!\");\r\n      } else {\r\n        toast.error(\"Something went wrong. Try again later!\");\r\n      }\r\n\r\n      console.error(\"Signup Failed:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div class=\"container  p-4 d-flex align-items-center h-50 w-50 flex-column \">\r\n      <h2 style={{ color: \"black\" }}>Login</h2>\r\n      <form\r\n        class=\"border border-primary w-50 p-3 rounded-3 text-white\"\r\n        style={{\r\n          backgroundImage: \"linear-gradient(135deg, #01187c, #0a3d91, #4a90e2)\",\r\n        }}\r\n        onSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <div class=\"mb-3\">\r\n          <label htmlFor=\"exampleFormControlInput2\" class=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            id=\"exampleFormControlInput2\"\r\n            placeholder=\"email@example.com\"\r\n            {...register(\"email\", { required: \"Email is required\" })}\r\n          />\r\n          {errors.email && <p class=\"text-danger\">{errors.email.message}</p>}\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label htmlFor=\"exampleFormControlInput3\" class=\"form-label\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            id=\"exampleFormControlInput3\"\r\n            placeholder=\"Enter password...\"\r\n            {...register(\"password\", { required: \"Password is required\" })}\r\n          />\r\n          {errors.password && (\r\n            <p class=\"text-danger\">{errors.password.message}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-center\">\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Login\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}